<div class="products-wrapper">
  <h1>Gillade produkter</h1>

  @let favorites = favoriteProducts$ | async;

  @if (!favorites) {
    <p>Laddar dina gillade produkter...</p>
  } @else if (favorites.length === 0) {
    <p>Du har inga gillade produkter ännu.</p>
  } @else {
    <div class="product-list">
      @for (p of favorites; track p.id) {
        <article class="product-card">
          <div class="product-image-wrapper">
            <img
              title="p.title"
              class="product-image"
              [src]="p.imageUrl"
              [alt]="p.title"
            />
          </div>

          <div class="product-content">
            <h3 class="product-title">
              <a [routerLink]="['/shop', p.id]">{{ p.title }}</a>
            </h3>

            <p class="product-desc">
              {{ p.description }}
            </p>

            <div class="product-footer">
              <strong class="product-price">
                {{ p.price | currency:'SEK':'symbol-narrow' }}
              </strong>

              <button class="product-button" [routerLink]="['/shop', p.id]">
                Visa produkt
              </button>

              <button class="favorite-button" (click)="removeFavorite(p.id)">
                ❤️ Ta bort
              </button>
            </div>
          </div>
        </article>
      }
    </div>
  }
</div>


